import os
import random
from telegram import Update
from telegram.ext import Application, CommandHandler, ContextTypes

# ===================== –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è =====================
TOKEN = os.getenv("Song")  # –¢–≤–æ–π —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ Telegram

# ===================== –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ —Ü–∏—Ç–∞—Ç =====================
QUOTES = [
    "–ñ–∏–∑–Ω—å ‚Äî —ç—Ç–æ —Ç–æ, —á—Ç–æ —Å —Ç–æ–±–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –ø–æ–∫–∞ —Ç—ã —Å—Ç—Ä–æ–∏—à—å –ø–ª–∞–Ω—ã. ‚Äî –î–∂–æ–Ω –õ–µ–Ω–Ω–æ–Ω",
    "–ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π –Ω–∞ –∑–∞–≤—Ç—Ä–∞ —Ç–æ, —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è.",
    "–°—á–∞—Å—Ç—å–µ ‚Äî —ç—Ç–æ –∫–æ–≥–¥–∞ —Ç–æ, —á—Ç–æ —Ç—ã –¥—É–º–∞–µ—à—å, —á—Ç–æ —Ç—ã –≥–æ–≤–æ—Ä–∏—à—å, –∏ —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å, —Å–æ–≤–ø–∞–¥–∞–µ—Ç. ‚Äî –ú–∞—Ö–∞—Ç–º–∞ –ì–∞–Ω–¥–∏",
    "–°–º–µ–ª–æ—Å—Ç—å ‚Äî —ç—Ç–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ö—É, –∞ –Ω–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–∞—Ö–∞.",
    "–£—á–∏—Å—å –Ω–∞ –æ—à–∏–±–∫–∞—Ö –¥—Ä—É–≥–∏—Ö. –¢—ã –Ω–µ —Å–º–æ–∂–µ—à—å –ø—Ä–æ–∂–∏—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–ª–≥–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∏—Ö –≤—Å–µ —Å–∞–º."
]

# ===================== –ö–æ–º–∞–Ω–¥—ã =====================
async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.message.reply_text(
        "üëã –ü—Ä–∏–≤–µ—Ç! –Ø QuoteBot.\n"
        "–ò—Å–ø–æ–ª—å–∑—É–π –∫–æ–º–∞–Ω–¥—É /quote, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é —Ü–∏—Ç–∞—Ç—É."
    )

async def quote_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    quote = random.choice(QUOTES)
    await update.message.reply_text(f"üí¨ {quote}")

# ===================== MAIN =====================
if __name__ == "__main__":
    app = Application.builder().token(TOKEN).build()

    app.add_handler(CommandHandler("start", start_command))
    app.add_handler(CommandHandler("quote", quote_command))

    # –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ polling (–¥–ª—è —Ç–µ—Å—Ç–∞ –ª–æ–∫–∞–ª—å–Ω–æ)
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
    app.run_polling()
